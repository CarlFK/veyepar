{# show.html #}
{% extends "base.html" %}

{% block head %}
  <title>veyepar - Show: {{client.name}} {{show.name}} </title>
{% endblock %}

{% block content %}

[
{% for s in states %}
   {% if s.1.0 == 1 or s.1.0 == 3 %}<u>{% endif %}
   {{s.1.1}}:<a href="{% url episode_list client_slug=client.slug show_slug=show.slug state=forloop.counter0 %}">{{s.0}}</a>
   {% if s.1.0 == 1 or s.1.0 == 3 %}</u>{% endif %}
{% endfor %}
]
    <table border=1>
      <tr>
         <th> </th>
        {% for location in locations %}
         <th> <a href="{% url episode_list client.slug show.slug location.slug %}">{{ location.name }}</a> </th>
        {% endfor %}
        </tr>

        {% for row  in rows  %}
          <tr><td> <a href="{% url episode_list client_slug=client.slug show_slug=show.slug start_day=row.0.start|date:"d" %}">{{row.0.start|date:"D d"}}</a></td>
          {% for item in row %}
             <td>  
               {% if item.count %}
                 {{item.start|date:"H:i"}} - {{item.end|date:"H:i"}}</br>
                 <a href="{% url episode_list client.slug show.slug item.loc item.date|date:"d" %}" style="display:inline-block">{{item.count}}</a>
                 [
                 {% for s in item.states %}
                   {% if forloop.counter0 == 1 or forloop.counter0 == 3 %}<u>{% endif %}
                   {% if s %}
                   <a href="{% url episode_list client.slug show.slug item.loc item.date|date:"d" forloop.counter0 %}" style="display: inline-block; padding-right: 1px; padding-left: 1px;">{{s}}</a>
                   {% else %} 0 {% endif %}
                   {% if forloop.counter0 == 1 or forloop.counter0 == 3 %}</u>{% endif %}
                 {% endfor %}
                 ]
               {% endif %}
             </td>
          {% endfor %}
          </tr>
        {% endfor %}

    </table>

{% endblock %}
